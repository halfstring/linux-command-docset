<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="css/markdown-github.css">
  
</head>
<body>
<h1>
<a id="user-content-find" class="anchor" href="#find" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>find</h1>
<p>在指定目录下查找文件</p>
<h2>
<a id="user-content-补充说明" class="anchor" href="#%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>补充说明</h2>
<p><strong>find命令</strong> 用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则find命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。</p>
<h3>
<a id="user-content-语法" class="anchor" href="#%E8%AF%AD%E6%B3%95" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>语法</h3>
<div class="highlight highlight-source-shell"><pre>find(选项)(参数)</pre></div>
<h3>
<a id="user-content-选项" class="anchor" href="#%E9%80%89%E9%A1%B9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>选项</h3>
<div class="highlight highlight-source-shell"><pre>-amin<span class="pl-k">&lt;</span>分钟<span class="pl-k">&gt;</span>：查找在指定时间曾被存取过的文件或目录，单位以分钟计算；
-anewer<span class="pl-k">&lt;</span>参考文件或目录<span class="pl-k">&gt;</span>：查找其存取时间较指定文件或目录的存取时间更接近现在的文件或目录；
-atime<span class="pl-k">&lt;</span>24小时数<span class="pl-k">&gt;</span>：查找在指定时间曾被存取过的文件或目录，单位以24小时计算；
-cmin<span class="pl-k">&lt;</span>分钟<span class="pl-k">&gt;</span>：查找在指定时间之时被更改过的文件或目录；
-cnewer<span class="pl-k">&lt;</span>参考文件或目录<span class="pl-k">&gt;</span>查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；
-ctime<span class="pl-k">&lt;</span>24小时数<span class="pl-k">&gt;</span>：查找在指定时间之时被更改的文件或目录，单位以24小时计算；
-daystart：从本日开始计算时间；
-depth：从指定目录下最深层的子目录开始查找；
-expty：寻找文件大小为0 Byte的文件，或目录下没有任何子目录或文件的空目录；
-exec<span class="pl-k">&lt;</span>执行指令<span class="pl-k">&gt;</span>：假设find指令的回传值为True，就执行该指令；
-false：将find指令的回传值皆设为False；
-fls<span class="pl-k">&lt;</span>列表文件<span class="pl-k">&gt;</span>：此参数的效果和指定“-ls”参数类似，但会把结果保存为指定的列表文件；
-follow：排除符号连接；
-fprint<span class="pl-k">&lt;</span>列表文件<span class="pl-k">&gt;</span>：此参数的效果和指定“-print”参数类似，但会把结果保存成指定的列表文件；
-fprint<span class="pl-k">0&lt;</span>列表文件<span class="pl-k">&gt;</span>：此参数的效果和指定“-print0”参数类似，但会把结果保存成指定的列表文件；
-fprintf<span class="pl-k">&lt;</span>列表文件&gt;&lt;输出格式<span class="pl-k">&gt;</span>：此参数的效果和指定“-printf”参数类似，但会把结果保存成指定的列表文件；
-fstype<span class="pl-k">&lt;</span>文件系统类型<span class="pl-k">&gt;</span>：只寻找该文件系统类型下的文件或目录；
-gid<span class="pl-k">&lt;</span>群组识别码<span class="pl-k">&gt;</span>：查找符合指定之群组识别码的文件或目录；
-group<span class="pl-k">&lt;</span>群组名称<span class="pl-k">&gt;</span>：查找符合指定之群组名称的文件或目录；
-help或--help：在线帮助；
-ilname<span class="pl-k">&lt;</span>范本样式<span class="pl-k">&gt;</span>：此参数的效果和指定“-lname”参数类似，但忽略字符大小写的差别；
-iname<span class="pl-k">&lt;</span>范本样式<span class="pl-k">&gt;</span>：此参数的效果和指定“-name”参数类似，但忽略字符大小写的差别；
-inum<span class="pl-k">&lt;</span>inode编号<span class="pl-k">&gt;</span>：查找符合指定的inode编号的文件或目录；
-ipath<span class="pl-k">&lt;</span>范本样式<span class="pl-k">&gt;</span>：此参数的效果和指定“-path”参数类似，但忽略字符大小写的差别；
-iregex<span class="pl-k">&lt;</span>范本样式<span class="pl-k">&gt;</span>：此参数的效果和指定“-regexe”参数类似，但忽略字符大小写的差别；
-links<span class="pl-k">&lt;</span>连接数目<span class="pl-k">&gt;</span>：查找符合指定的硬连接数目的文件或目录；
-lname<span class="pl-k">&lt;</span>范本样式<span class="pl-k">&gt;</span>：指定字符串作为寻找符号连接的范本样式；
-ls：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出；
-maxdepth<span class="pl-k">&lt;</span>目录层级<span class="pl-k">&gt;</span>：设置最大目录层级；
-mindepth<span class="pl-k">&lt;</span>目录层级<span class="pl-k">&gt;</span>：设置最小目录层级；
-mmin<span class="pl-k">&lt;</span>分钟<span class="pl-k">&gt;</span>：查找在指定时间曾被更改过的文件或目录，单位以分钟计算；
-mount：此参数的效果和指定“-xdev”相同；
-mtime<span class="pl-k">&lt;</span>24小时数<span class="pl-k">&gt;</span>：查找在指定时间曾被更改过的文件或目录，单位以24小时计算；
-name<span class="pl-k">&lt;</span>范本样式<span class="pl-k">&gt;</span>：指定字符串作为寻找文件或目录的范本样式；
-newer<span class="pl-k">&lt;</span>参考文件或目录<span class="pl-k">&gt;</span>：查找其更改时间较指定文件或目录的更改时间更接近现在的文件或目录；
-nogroup：找出不属于本地主机群组识别码的文件或目录；
-noleaf：不去考虑目录至少需拥有两个硬连接存在；
-nouser：找出不属于本地主机用户识别码的文件或目录；
-ok<span class="pl-k">&lt;</span>执行指令<span class="pl-k">&gt;</span>：此参数的效果和指定“-exec”类似，但在执行指令之前会先询问用户，若回答“y”或“Y”，则放弃执行命令；
-path<span class="pl-k">&lt;</span>范本样式<span class="pl-k">&gt;</span>：指定字符串作为寻找目录的范本样式；
-perm<span class="pl-k">&lt;</span>权限数值<span class="pl-k">&gt;</span>：查找符合指定的权限数值的文件或目录；
-print：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为每列一个名称，每个名称前皆有“./”字符串；
-print0：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式为全部的名称皆在同一行；
-printf<span class="pl-k">&lt;</span>输出格式<span class="pl-k">&gt;</span>：假设find指令的回传值为Ture，就将文件或目录名称列出到标准输出。格式可以自行指定；
-prune：不寻找字符串作为寻找文件或目录的范本样式<span class="pl-k">;</span>
-regex<span class="pl-k">&lt;</span>范本样式<span class="pl-k">&gt;</span>：指定字符串作为寻找文件或目录的范本样式；
-size<span class="pl-k">&lt;</span>文件大小<span class="pl-k">&gt;</span>：查找符合指定的文件大小的文件；
-true：将find指令的回传值皆设为True；
-type<span class="pl-k">&lt;</span>文件类型<span class="pl-k">&gt;</span>：只寻找符合指定的文件类型的文件；
-uid<span class="pl-k">&lt;</span>用户识别码<span class="pl-k">&gt;</span>：查找符合指定的用户识别码的文件或目录；
-used<span class="pl-k">&lt;</span>日数<span class="pl-k">&gt;</span>：查找文件或目录被更改之后在指定时间曾被存取过的文件或目录，单位以日计算；
-user<span class="pl-k">&lt;</span>拥有者名称<span class="pl-k">&gt;</span>：查找符和指定的拥有者名称的文件或目录；
-version或——version：显示版本信息；
-xdev：将范围局限在先行的文件系统中；
-xtype<span class="pl-k">&lt;</span>文件类型<span class="pl-k">&gt;</span>：此参数的效果和指定“-type”参数类似，差别在于它针对符号连接检查。</pre></div>
<h3>
<a id="user-content-参数" class="anchor" href="#%E5%8F%82%E6%95%B0" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>参数</h3>
<p>起始目录：查找文件的起始目录。</p>
<h3>
<a id="user-content-实例" class="anchor" href="#%E5%AE%9E%E4%BE%8B" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>实例</h3>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"><span class="pl-c">#</span> 当前目录搜索所有文件，文件内容 包含 “140.206.111.111” 的内容</span>
find <span class="pl-c1">.</span> -type f -name <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span> <span class="pl-k">|</span> xargs grep <span class="pl-s"><span class="pl-pds">"</span>140.206.111.111<span class="pl-pds">"</span></span></pre></div>
<h4>
<a id="user-content-根据文件或者正则表达式进行匹配" class="anchor" href="#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E6%88%96%E8%80%85%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%9B%E8%A1%8C%E5%8C%B9%E9%85%8D" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>根据文件或者正则表达式进行匹配</h4>
<p>列出当前目录及子目录下所有文件和文件夹</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span></pre></div>
<p>在<code>/home</code>目录下查找以.txt结尾的文件名</p>
<div class="highlight highlight-source-shell"><pre>find /home -name <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span></pre></div>
<p>同上，但忽略大小写</p>
<div class="highlight highlight-source-shell"><pre>find /home -iname <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span></pre></div>
<p>当前目录及子目录下查找所有以.txt和.pdf结尾的文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> <span class="pl-cce">\(</span> -name <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span> -o -name <span class="pl-s"><span class="pl-pds">"</span>*.pdf<span class="pl-pds">"</span></span> <span class="pl-cce">\)</span>

或

find <span class="pl-c1">.</span> -name <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span> -o -name <span class="pl-s"><span class="pl-pds">"</span>*.pdf<span class="pl-pds">"</span></span></pre></div>
<p>匹配文件路径或者文件</p>
<div class="highlight highlight-source-shell"><pre>find /usr/ -path <span class="pl-s"><span class="pl-pds">"</span>*local*<span class="pl-pds">"</span></span></pre></div>
<p>基于正则表达式匹配文件路径</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -regex <span class="pl-s"><span class="pl-pds">"</span>.*\(\.txt\|\.pdf\)$<span class="pl-pds">"</span></span></pre></div>
<p>同上，但忽略大小写</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -iregex <span class="pl-s"><span class="pl-pds">"</span>.*\(\.txt\|\.pdf\)$<span class="pl-pds">"</span></span></pre></div>
<h4>
<a id="user-content-否定参数" class="anchor" href="#%E5%90%A6%E5%AE%9A%E5%8F%82%E6%95%B0" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>否定参数</h4>
<p>找出/home下不是以.txt结尾的文件</p>
<div class="highlight highlight-source-shell"><pre>find /home <span class="pl-k">!</span> -name <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span></pre></div>
<h4>
<a id="user-content-根据文件类型进行搜索" class="anchor" href="#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E8%BF%9B%E8%A1%8C%E6%90%9C%E7%B4%A2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>根据文件类型进行搜索</h4>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type 类型参数</pre></div>
<p>类型参数列表：</p>
<ul>
<li>
<strong>f</strong>  普通文件</li>
<li>
<strong>l</strong>  符号连接</li>
<li>
<strong>d</strong>  目录</li>
<li>
<strong>c</strong>  字符设备</li>
<li>
<strong>b</strong>  块设备</li>
<li>
<strong>s</strong>  套接字</li>
<li>
<strong>p</strong>  Fifo</li>
</ul>
<h4>
<a id="user-content-基于目录深度搜索" class="anchor" href="#%E5%9F%BA%E4%BA%8E%E7%9B%AE%E5%BD%95%E6%B7%B1%E5%BA%A6%E6%90%9C%E7%B4%A2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>基于目录深度搜索</h4>
<p>向下最大深度限制为3</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -maxdepth 3 -type f</pre></div>
<p>搜索出深度距离当前目录至少2个子目录的所有文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -mindepth 2 -type f</pre></div>
<h4>
<a id="user-content-根据文件时间戳进行搜索" class="anchor" href="#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E6%97%B6%E9%97%B4%E6%88%B3%E8%BF%9B%E8%A1%8C%E6%90%9C%E7%B4%A2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>根据文件时间戳进行搜索</h4>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f 时间戳</pre></div>
<p>UNIX/Linux文件系统每个文件都有三种时间戳：</p>
<ul>
<li>
<strong>访问时间</strong> （-atime/天，-amin/分钟）：用户最近一次访问时间。</li>
<li>
<strong>修改时间</strong> （-mtime/天，-mmin/分钟）：文件最后一次修改时间。</li>
<li>
<strong>变化时间</strong> （-ctime/天，-cmin/分钟）：文件数据元（例如权限等）最后一次修改时间。</li>
</ul>
<p>搜索最近七天内被访问过的所有文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -atime -7</pre></div>
<p>搜索恰好在七天前被访问过的所有文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -atime 7</pre></div>
<p>搜索超过七天内被访问过的所有文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -atime +7</pre></div>
<p>搜索访问时间超过10分钟的所有文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -amin +10</pre></div>
<p>找出比file.log修改时间更长的所有文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -newer file.log</pre></div>
<h4>
<a id="user-content-根据文件大小进行匹配" class="anchor" href="#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F%E8%BF%9B%E8%A1%8C%E5%8C%B9%E9%85%8D" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>根据文件大小进行匹配</h4>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -size 文件大小单元</pre></div>
<p>文件大小单元：</p>
<ul>
<li>
<strong>b</strong>  —— 块（512字节）</li>
<li>
<strong>c</strong>  —— 字节</li>
<li>
<strong>w</strong>  —— 字（2字节）</li>
<li>
<strong>k</strong>  —— 千字节</li>
<li>
<strong>M</strong>  —— 兆字节</li>
<li>
<strong>G</strong>  —— 吉字节</li>
</ul>
<p>搜索大于10KB的文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -size +10k</pre></div>
<p>搜索小于10KB的文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -size -10k</pre></div>
<p>搜索等于10KB的文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -size 10k</pre></div>
<h4>
<a id="user-content-删除匹配文件" class="anchor" href="#%E5%88%A0%E9%99%A4%E5%8C%B9%E9%85%8D%E6%96%87%E4%BB%B6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>删除匹配文件</h4>
<p>删除当前目录下所有.txt文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -name <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span> -delete</pre></div>
<h4>
<a id="user-content-根据文件权限所有权进行匹配" class="anchor" href="#%E6%A0%B9%E6%8D%AE%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E6%89%80%E6%9C%89%E6%9D%83%E8%BF%9B%E8%A1%8C%E5%8C%B9%E9%85%8D" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>根据文件权限/所有权进行匹配</h4>
<p>当前目录下搜索出权限为777的文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -perm 777</pre></div>
<p>找出当前目录下权限不是644的php文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -name <span class="pl-s"><span class="pl-pds">"</span>*.php<span class="pl-pds">"</span></span> <span class="pl-k">!</span> -perm 644</pre></div>
<p>找出当前目录用户tom拥有的所有文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -user tom</pre></div>
<p>找出当前目录用户组sunk拥有的所有文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -group sunk</pre></div>
<h4>
<a id="user-content-借助-exec选项与其他命令结合使用" class="anchor" href="#%E5%80%9F%E5%8A%A9-exec%E9%80%89%E9%A1%B9%E4%B8%8E%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>借助<code>-exec</code>选项与其他命令结合使用</h4>
<p>找出当前目录下所有root的文件，并把所有权更改为用户tom</p>
<div class="highlight highlight-source-shell"><pre>find .-type f -user root -exec chown tom {} <span class="pl-cce">\;</span></pre></div>
<p>上例中， <strong>{}</strong>  用于与 <strong>-exec</strong> 选项结合使用来匹配所有文件，然后会被替换为相应的文件名。</p>
<p>找出自己家目录下所有的.txt文件并删除</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-smi">$HOME</span>/. -name <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span> -ok rm {} <span class="pl-cce">\;</span></pre></div>
<p>上例中， <strong>-ok</strong> 和 <strong>-exec</strong> 行为一样，不过它会给出提示，是否执行相应的操作。</p>
<p>查找当前目录下所有.txt文件并把他们拼接起来写入到all.txt文件中</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -name <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span> -exec cat {} <span class="pl-cce">\;</span><span class="pl-k">&gt;</span> /all.txt</pre></div>
<p>将30天前的.log文件移动到old目录中</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -mtime +30 -name <span class="pl-s"><span class="pl-pds">"</span>*.log<span class="pl-pds">"</span></span> -exec cp {} old <span class="pl-cce">\;</span></pre></div>
<p>找出当前目录下所有.txt文件并以“File:文件名”的形式打印出来</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -type f -name <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span> -exec <span class="pl-c1">printf</span> <span class="pl-s"><span class="pl-pds">"</span>File: %s\n<span class="pl-pds">"</span></span> {} <span class="pl-cce">\;</span></pre></div>
<p>因为单行命令中-exec参数中无法使用多个命令，以下方法可以实现在-exec之后接受多条命令</p>
<div class="highlight highlight-source-shell"><pre>-exec ./text.sh {} <span class="pl-cce">\;</span></pre></div>
<h4>
<a id="user-content-搜索但跳过指定的目录" class="anchor" href="#%E6%90%9C%E7%B4%A2%E4%BD%86%E8%B7%B3%E8%BF%87%E6%8C%87%E5%AE%9A%E7%9A%84%E7%9B%AE%E5%BD%95" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>搜索但跳过指定的目录</h4>
<p>查找当前目录或者子目录下所有.txt文件，但是跳过子目录sk</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -path <span class="pl-s"><span class="pl-pds">"</span>./sk<span class="pl-pds">"</span></span> -prune -o -name <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span> -print</pre></div>
<blockquote>
<p><g-emoji class="g-emoji" alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">⚠️</g-emoji> ./sk 不能写成 ./sk/ ，否则没有作用。</p>
</blockquote>
<p>忽略两个目录</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> <span class="pl-cce">\(</span> -path ./sk -o  -path ./st <span class="pl-cce">\)</span> -prune -o -name <span class="pl-s"><span class="pl-pds">"</span>*.txt<span class="pl-pds">"</span></span> -print</pre></div>
<blockquote>
<p><g-emoji class="g-emoji" alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">⚠️</g-emoji> 如果写相对路径必须加上<code>./</code></p>
</blockquote>
<h4>
<a id="user-content-find其他技巧收集" class="anchor" href="#find%E5%85%B6%E4%BB%96%E6%8A%80%E5%B7%A7%E6%94%B6%E9%9B%86" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>find其他技巧收集</h4>
<p>要列出所有长度为零的文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -empty</pre></div>
<h4>
<a id="user-content-其它实例" class="anchor" href="#%E5%85%B6%E5%AE%83%E5%AE%9E%E4%BE%8B" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>其它实例</h4>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-k">~</span> -name <span class="pl-s"><span class="pl-pds">'</span>*jpg<span class="pl-pds">'</span></span> <span class="pl-c"><span class="pl-c">#</span> 主目录中找到所有的 jpg 文件。 -name 参数允许你将结果限制为与给定模式匹配的文件。</span>
find <span class="pl-k">~</span> -iname <span class="pl-s"><span class="pl-pds">'</span>*jpg<span class="pl-pds">'</span></span> <span class="pl-c"><span class="pl-c">#</span> -iname 就像 -name，但是不区分大小写</span>
find <span class="pl-k">~</span> ( -iname <span class="pl-s"><span class="pl-pds">'</span>jpeg<span class="pl-pds">'</span></span> -o -iname <span class="pl-s"><span class="pl-pds">'</span>jpg<span class="pl-pds">'</span></span> ) <span class="pl-c"><span class="pl-c">#</span> 一些图片可能是 .jpeg 扩展名。幸运的是，我们可以将模式用“或”（表示为 -o）来组合。</span>
find <span class="pl-k">~</span> <span class="pl-cce">\(</span> -iname <span class="pl-s"><span class="pl-pds">'</span>*jpeg<span class="pl-pds">'</span></span> -o -iname <span class="pl-s"><span class="pl-pds">'</span>*jpg<span class="pl-pds">'</span></span> <span class="pl-cce">\)</span> -type f <span class="pl-c"><span class="pl-c">#</span> 如果你有一些以 jpg 结尾的目录呢？ （为什么你要命名一个 bucketofjpg 而不是 pictures 的目录就超出了本文的范围。）我们使用 -type 参数修改我们的命令来查找文件。</span>
find <span class="pl-k">~</span> <span class="pl-cce">\(</span> -iname <span class="pl-s"><span class="pl-pds">'</span>*jpeg<span class="pl-pds">'</span></span> -o -iname <span class="pl-s"><span class="pl-pds">'</span>*jpg<span class="pl-pds">'</span></span> <span class="pl-cce">\)</span> -type d <span class="pl-c"><span class="pl-c">#</span> 也许你想找到那些命名奇怪的目录，以便稍后重命名它们</span></pre></div>
<p>最近拍了很多照片，所以让我们把它缩小到上周更改的文件</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-k">~</span> <span class="pl-cce">\(</span> -iname <span class="pl-s"><span class="pl-pds">'</span>*jpeg<span class="pl-pds">'</span></span> -o -iname <span class="pl-s"><span class="pl-pds">'</span>*jpg<span class="pl-pds">'</span></span> <span class="pl-cce">\)</span> -type f -mtime -7</pre></div>
<p>你可以根据文件状态更改时间 （ctime）、修改时间 （mtime） 或访问时间 （atime） 来执行时间过滤。 这些是在几天内，所以如果你想要更细粒度的控制，你可以表示为在几分钟内（分别是 cmin、mmin 和 amin）。 除非你确切地知道你想要的时间，否则你可能会在 + （大于）或 - （小于）的后面加上数字。</p>
<p>但也许你不关心你的照片。也许你的磁盘空间不够用，所以你想在 log 目录下找到所有巨大的（让我们定义为“大于 1GB”）文件：</p>
<div class="highlight highlight-source-shell"><pre>find /var/log -size +1G</pre></div>
<p>或者，也许你想在 /data 中找到 bcotton 拥有的所有文件：</p>
<div class="highlight highlight-source-shell"><pre>find /data -owner bcotton</pre></div>
<p>你还可以根据权限查找文件。也许你想在你的主目录中找到对所有人可读的文件，以确保你不会过度分享。</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-k">~</span> -perm -o=r</pre></div>
<p>删除 mac 下自动生成的文件</p>
<div class="highlight highlight-source-shell"><pre>find ./ -name <span class="pl-s"><span class="pl-pds">'</span>__MACOSX<span class="pl-pds">'</span></span> -depth -exec rm -rf {} <span class="pl-cce">\;</span></pre></div>
<p>统计代码行数</p>
<div class="highlight highlight-source-shell"><pre>find <span class="pl-c1">.</span> -name <span class="pl-s"><span class="pl-pds">"</span>*.java<span class="pl-pds">"</span></span><span class="pl-k">|</span>xargs cat<span class="pl-k">|</span>grep -v ^$<span class="pl-k">|</span>wc -l <span class="pl-c"><span class="pl-c">#</span> 代码行数统计, 排除空行</span></pre></div>


</body>
</html>