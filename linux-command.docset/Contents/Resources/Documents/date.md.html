<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="css/markdown-github.css">
  
</head>
<body>
<h1>
<a id="user-content-date" class="anchor" href="#date" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>date</h1>
<p>显示或设置系统时间与日期</p>
<h2>
<a id="user-content-概要" class="anchor" href="#%E6%A6%82%E8%A6%81" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>概要</h2>
<div class="highlight highlight-source-shell"><pre>date [OPTION]... [+FORMAT]
date [-u<span class="pl-k">|</span>--utc<span class="pl-k">|</span>--universal] [MMDDhhmm[[CC]YY][.ss]]</pre></div>
<h2>
<a id="user-content-主要用途" class="anchor" href="#%E4%B8%BB%E8%A6%81%E7%94%A8%E9%80%94" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>主要用途</h2>
<ul>
<li>转换时间到选定的格式，默认为当前。</li>
<li>设置系统时间。</li>
</ul>
<h2>
<a id="user-content-参数" class="anchor" href="#%E5%8F%82%E6%95%B0" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>参数</h2>
<p>format：输出的时间格式。</p>
<div class="highlight highlight-source-shell"><pre>format可用的转义序列如下：

%%      百分号
%a      当地缩写的工作日名称（例如，Sun）
%A      当地完整的工作日名称（例如，Sunday）
%b      当地缩写的月份名称（例如，Jan）
%B      当地完整的月份名称（例如，January）
%c      当地的日期和时间（例如，Thu Mar  3 23:05:25 2005）
%C      世纪，和%Y类似，但是省略后两位（例如，20）
%d      一月中的一天（例如，01）
%D      日期，等价于%m/%d/%y
%e      一月中的一天，格式使用空格填充，等价于%_d
%F      完整的日期；等价于%+4Y-%m-%d
%g      ISO标准计数周的年份的最后两位数字
%G      ISO标准计数周的年份，通常只对%V有用
%h      等价于%b
%H      小时，范围（00..23）
%I      小时，范围（00..23）
%j      一年中的一天，范围（001..366）
%k      小时，使用空格填充，范围（0..23），等价于%_H
%l      小时，使用空格填充，范围（1..12），等价于%_I
%m      月，范围（01..12）
%M      分钟，范围（00..59）
%n      换行符
%N      纳秒，范围（000000000..000000000）
%p      用于表示当地的AM或PM，如果未知则为空白
%P      类似于%p，但用小写表示
%q      季度，范围（1..4）
%r      当地以12小时表示的时钟时间（例如，11:11:04 PM）
%R      24小时每分钟；等价于%H:%M
%s      自协调世界时1970年01月01日00时00分以来的秒数
%S      秒数，范围（00..60）
%t      水平制表符
%T      时间；等价于%H:%M:%S
%u      一周中的一天（1..7），1代表星期一
%U      一年中的第几周，周日作为一周的起始（00..53）
%V      ISO标准计数周，该方法将周一作为一周的起始（01..53）
%w      一周中的一天（0..6），0代表星期天
%W      一年中的第几周，周一作为一周的起始（00..53）
%x      当地的日期表示（例如，12/31/99）
%X      当地的时间表示（例如，23:13:48）
%y      年份后两位数字，范围（00..99）
%Y      年份
%z      +hhmm格式的数值化时区格式（例如，-0400）
%:z     +hh:mm格式的数值化时区格式（例如，-04:00）
%::z    +hh:mm:ss格式的数值化时区格式（例如，-04:00:00）
%:::z   数值化时区格式，相比上一个格式增加<span class="pl-s"><span class="pl-pds">'</span>:<span class="pl-pds">'</span></span>以显示必要的精度（例如，-04，+05:30）
%Z      时区缩写（如EDT）

默认情况下，日期用零填充数字字段；以下可选的符号可以跟在<span class="pl-s"><span class="pl-pds">'</span>%<span class="pl-pds">'</span></span>后面:

-      (连字符) 不要填充相应的字段。
_      (下划线) 使用空格填充相应的字段。
0      (数字0) 使用数字0填充相应的字段。
+      用数字0填充，未来年份大于4位数字则在前面加上<span class="pl-s"><span class="pl-pds">'</span>+<span class="pl-pds">'</span></span>号。
^      允许的情况下使用大写。
<span class="pl-c"><span class="pl-c">#</span>      允许的情况下将默认的大写转换为小写，默认的小写转换为大写。</span>

在任何标志之后都有一个可选的字段宽度，如小数；然后是一个可选的修饰符，在可用的情况下，使用E来使用当地语言环境的替代表示，
使用O来使用当地语言环境的替代数字符号。</pre></div>
<h2>
<a id="user-content-选项" class="anchor" href="#%E9%80%89%E9%A1%B9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>选项</h2>
<div class="highlight highlight-source-shell"><pre>长选项与短选项等价

-d, --date=STRING          解析字符串并按照指定格式输出，字符串不能是<span class="pl-s"><span class="pl-pds">'</span>now<span class="pl-pds">'</span></span>。
--debug                    注释已解析的日期，并将有疑问的用法发送到标准错误。
-f, --file=DATEFILE        类似于--date<span class="pl-k">;</span> 一次从DATEFILE处理一行。
-I[FMT], --iso-8601[<span class="pl-k">=</span>FMT]  按照ISO 8601格式输出，FMT可以为<span class="pl-s"><span class="pl-pds">'</span>date<span class="pl-pds">'</span></span>(默认)，<span class="pl-s"><span class="pl-pds">'</span>hours<span class="pl-pds">'</span></span>，<span class="pl-s"><span class="pl-pds">'</span>minutes<span class="pl-pds">'</span></span>，<span class="pl-s"><span class="pl-pds">'</span>seconds<span class="pl-pds">'</span></span>，<span class="pl-s"><span class="pl-pds">'</span>ns<span class="pl-pds">'</span></span>。
                           例如：2006-08-14T02:34:56-06:00
-R, --rfc-email            按照RFC 5322格式输出，例如: Mon, 14 Aug 2006 02:34:56 -0600
--rfc-3339=FMT             按照RFC 3339格式输出，FMT可以为<span class="pl-s"><span class="pl-pds">'</span>date<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>seconds<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>ns<span class="pl-pds">'</span></span>中的一个，
                           例如：2006-08-14 02:34:56-06:00
-r, --reference=FILE       显示文件的上次修改时间。
-s, --set=STRING           根据字符串设置系统时间。
-u, --utc, --universal     显示或设置世界协调时(UTC)。
--help                     显示帮助信息并退出。
--version                  显示版本信息并退出。</pre></div>
<h2>
<a id="user-content-返回值" class="anchor" href="#%E8%BF%94%E5%9B%9E%E5%80%BC" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>返回值</h2>
<p>返回状态为成功除非给出了非法选项或非法参数。</p>
<h2>
<a id="user-content-例子" class="anchor" href="#%E4%BE%8B%E5%AD%90" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>例子</h2>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"><span class="pl-c">#</span> 格式化输出：</span>
date +<span class="pl-s"><span class="pl-pds">"</span>%Y-%m-%d<span class="pl-pds">"</span></span>
2009-12-07

<span class="pl-c"><span class="pl-c">#</span> 输出昨天日期：</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>1 day ago<span class="pl-pds">"</span></span> +<span class="pl-s"><span class="pl-pds">"</span>%Y-%m-%d<span class="pl-pds">"</span></span>
2012-11-19

<span class="pl-c"><span class="pl-c">#</span> 2秒后输出：</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>2 second<span class="pl-pds">"</span></span> +<span class="pl-s"><span class="pl-pds">"</span>%Y-%m-%d %H:%M.%S<span class="pl-pds">"</span></span>
2012-11-20 14:21.31

<span class="pl-c"><span class="pl-c">#</span> 传说中的 1234567890 秒：</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>1970-01-01 1234567890 seconds<span class="pl-pds">"</span></span> +<span class="pl-s"><span class="pl-pds">"</span>%Y-%m-%d %H:%M:%S<span class="pl-pds">"</span></span>
<span class="pl-c"><span class="pl-c">#</span> 或者</span>
date -d@1234567890 +<span class="pl-s"><span class="pl-pds">"</span>%F %T<span class="pl-pds">"</span></span>
<span class="pl-c"><span class="pl-c">#</span> 输出结果</span>
2009-02-13 23:02:30

<span class="pl-c"><span class="pl-c">#</span> 时间格式转换：</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>2009-12-12<span class="pl-pds">"</span></span> +<span class="pl-s"><span class="pl-pds">"</span>%Y/%m/%d %H:%M.%S<span class="pl-pds">"</span></span>
<span class="pl-c"><span class="pl-c">#</span> 输出结果</span>
2009/12/12 00:00.00

<span class="pl-c"><span class="pl-c">#</span> apache格式转换：</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>Dec 5, 2009 12:00:37 AM<span class="pl-pds">"</span></span> +<span class="pl-s"><span class="pl-pds">"</span>%Y-%m-%d %H:%M.%S<span class="pl-pds">"</span></span>
<span class="pl-c"><span class="pl-c">#</span> 输出结果</span>
2009-12-05 00:00.37

<span class="pl-c"><span class="pl-c">#</span> 格式转换后时间游走：</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>Dec 5, 2009 12:00:37 AM 2 year ago<span class="pl-pds">"</span></span> +<span class="pl-s"><span class="pl-pds">"</span>%Y-%m-%d %H:%M.%S<span class="pl-pds">"</span></span>
<span class="pl-c"><span class="pl-c">#</span> 输出结果</span>
2007-12-05 00:00.37

<span class="pl-c"><span class="pl-c">#</span> 时间加减操作：</span>
date +%Y%m%d                   <span class="pl-c"><span class="pl-c">#</span> 显示年月日</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>+1 day<span class="pl-pds">"</span></span> +%Y%m%d       <span class="pl-c"><span class="pl-c">#</span> 显示前一天的日期</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>-1 day<span class="pl-pds">"</span></span> +%Y%m%d       <span class="pl-c"><span class="pl-c">#</span> 显示后一天的日期</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>-1 month<span class="pl-pds">"</span></span> +%Y%m%d     <span class="pl-c"><span class="pl-c">#</span> 显示上一月的日期</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>+1 month<span class="pl-pds">"</span></span> +%Y%m%d     <span class="pl-c"><span class="pl-c">#</span> 显示下一月的日期</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>-1 year<span class="pl-pds">"</span></span> +%Y%m%d      <span class="pl-c"><span class="pl-c">#</span> 显示前一年的日期</span>
date -d <span class="pl-s"><span class="pl-pds">"</span>+1 year<span class="pl-pds">"</span></span> +%Y%m%d      <span class="pl-c"><span class="pl-c">#</span> 显示下一年的日期</span>

<span class="pl-c"><span class="pl-c">#</span> 设定时间：</span>
date -s                         <span class="pl-c"><span class="pl-c">#</span> 设置当前时间，只有root权限才能设置，其他只能查看</span>
date -s 20120523                <span class="pl-c"><span class="pl-c">#</span> 设置成20120523，这样会把具体时间设置成00:00:00</span>
date -s 01:01:01                <span class="pl-c"><span class="pl-c">#</span> 设置具体时间，不会对日期做更改</span>
date -s <span class="pl-s"><span class="pl-pds">"</span>01:01:01 2012-05-23<span class="pl-pds">"</span></span>   <span class="pl-c"><span class="pl-c">#</span> 这样可以设置全部时间</span>
date -s <span class="pl-s"><span class="pl-pds">"</span>01:01:01 20120523<span class="pl-pds">"</span></span>     <span class="pl-c"><span class="pl-c">#</span> 这样可以设置全部时间</span>
date -s <span class="pl-s"><span class="pl-pds">"</span>2012-05-23 01:01:01<span class="pl-pds">"</span></span>   <span class="pl-c"><span class="pl-c">#</span> 这样可以设置全部时间</span>
date -s <span class="pl-s"><span class="pl-pds">"</span>20120523 01:01:01<span class="pl-pds">"</span></span>     <span class="pl-c"><span class="pl-c">#</span> 这样可以设置全部时间</span>

<span class="pl-c"><span class="pl-c">#</span> 有时需要检查一组命令花费的时间：</span>
start=<span class="pl-s"><span class="pl-pds">$(</span>date +%s<span class="pl-pds">)</span></span>
nmap wangchujiang.com <span class="pl-k">&amp;</span><span class="pl-k">&gt;</span> /dev/null
end=<span class="pl-s"><span class="pl-pds">$(</span>date +%s<span class="pl-pds">)</span></span>
difference=<span class="pl-s"><span class="pl-pds">$((</span> end <span class="pl-k">-</span> start <span class="pl-pds">))</span></span>
<span class="pl-c"><span class="pl-c">#</span> 显示执行时间</span>
<span class="pl-c1">echo</span> <span class="pl-smi">$difference</span> seconds.

<span class="pl-c"><span class="pl-c">#</span> 当你考虑输出带有时间的字符串时，例如（Current time: 2019/05/19）：</span>
<span class="pl-c"><span class="pl-c">#</span> 通常使用的方法：</span>
<span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>Current time: <span class="pl-s"><span class="pl-pds">$(</span>date +<span class="pl-s"><span class="pl-pds">"</span>%Y/%m/%d<span class="pl-pds">"</span></span><span class="pl-pds">)</span></span><span class="pl-pds">"</span></span>
<span class="pl-c"><span class="pl-c">#</span> 另一种方法：</span>
suffix=<span class="pl-s"><span class="pl-pds">'</span>Current time:<span class="pl-pds">'</span></span>
<span class="pl-c"><span class="pl-c">#</span> 注意如果换成单引号就不能替换变量了。</span>
date +<span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">${suffix}</span> %Y/%m/%d<span class="pl-pds">"</span></span></pre></div>
<h3>
<a id="user-content-注意" class="anchor" href="#%E6%B3%A8%E6%84%8F" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>注意</h3>
<ol>
<li>该命令是<code>GNU coreutils</code>包中的命令，相关的帮助信息请查看<code>man -s 1 date</code>或<code>info coreutils 'date invocation'</code>。</li>
</ol>


</body>
</html>